##################################################################################
# PROJECT
# Project names should contain only lowercase characters and underscores. 
# Do not modify the version and config-version below.
##################################################################################
name: 'my_project_name'
version: '1.0.0'
config-version: 2

###################################################################################
# PROFILE
# This setting configures which "profile" dbt uses for this project. 
# In dbt Cloud IDE, this field is unused. However, it is critical with DBT Core.
###################################################################################
profile: 'my_project_profile'

###################################################################################
# VARIABLES 
# For use in models or other objects, or to control packages in the project
###################################################################################
vars:

  # Enables the package DBT_CONSTRAINTS. Package details: https://hub.getdbt.com/snowflake-labs/dbt_constraints/latest/
  dbt_constraints_enabled: false
  # The DBT_CONSTRAINTS package can also add constraints on sources if you have sufficient privileges
  dbt_constraints_sources_enabled: false
  'dbt_date:time_zone': 'America/New_York'

    
###################################################################################      
# FILE PATHS & HOOKS
# These configurations specify where dbt should look for different types of files
# and any hooks to execute at start or end of a project run or build. 
###################################################################################
#macro-paths: ["macros", "packages/managed_assets/fitb_dbt_utils/macros"]
macro-paths: ["packages/managed_assets/packages/fitb_dbt_utils/macros","macros"]
model-paths: ["models"]
test-paths: ["tests"]
#analysis-paths: ["data_project_assets/analyses"] #Path commented so analyses sql files are not compiled during DBT BUILD runs
seed-paths: ["packages/managed_assets/seeds"]
snapshot-paths: ["packages/managed_assets/snapshots"]
log-path: "packages/logs"
packages-install-path: "packages/managed_assets/packages"
target-path: "target"   # directory which will store compiled SQL files
clean-targets:         # directories to be removed by `dbt clean`
  - "packages/managed_assets/target"
  - "target"
  - "packages/managed_assets/packages"
  - "shared_assets"
  - "dbt_packages"

dispatch:
  - macro_namespace: dbt
    search_order: ['my_project_name', 'fitb_dbt_utils', 'dbt_project_evaluator', 'dbt']
  - macro_namespace: dbt_utils
    search_order: ['my_project_name', 'fitb_dbt_utils', 'dbt_utils']

################################################################################### 
# PROJECT RESOURCES 
################################################################################### 

# Configuring models. Full documentation: https://docs.getdbt.com/docs/configuring-models
# For model config, we tell dbt how to build the models, where to build them and which Snowflake warehouse to use. 
# NOTE: These settings can be overridden in the individual model files using the `{{ config(...) }}` macro. 
# NOTE: if you rename the project at the beginning of this yaml file, you must rename it below, too. 

models:
  my_project_name:    
    +transient: false  # Ensures models generated by DBT are not defined as transient in Snowflake
    1_transform:
      schema: transform
      materialized: table
    2_data_product:
      schema: data_product
      materialized: view
#sources:
#  fitb_tech_transformation: 
#    raw: 
#      +enabled: true
 
